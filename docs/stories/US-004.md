---
id: US-004
epic: OBP
title: Editar perfil de usuário
priority: P1
risk_level: Medium
status: Draft
dependencies: [US-001]
---

## Contexto
Permitir atualização de nome, foto e preferências via `PUT /profile`. Integra com storage externo para imagens.

## Critérios de Aceitação (AC)
1. Alterar nome e preferências.
2. Upload de foto apenas em formatos/tamanhos válidos.
3. Alterações persistem após reload.
4. Mensagens de erro claras.

## Tarefas (Dev)
- Implementar atualização parcial de perfil.
- Upload seguro com storage externo.
- Rollback em falha de upload.

## Tarefas (QA)
- Unit: validação de campos e preferências.
- Integration: upload, rollback.
- E2E: edição completa e persistência.

## Riscos
- Upload malicioso sem validação.
- Perda de dados em falha de storage.
- Preferências inválidas quebrando UX.
